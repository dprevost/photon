/* -*- c++ -*- */
/* :mode=c++:  - For jedit, previous line for emacs */
/*
 * Copyright (C) 2006-2007 Daniel Prevost <dprevost@users.sourceforge.net>
 *
 * This file is part of the vdsf (Virtual Data Space Framework) Library.
 *
 * This file may be distributed and/or modified under the terms of the
 * GNU General Public License version 2 as published by the Free Software
 * Foundation and appearing in the file COPYING included in the
 * packaging of this library.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
 */

// --+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--

#ifndef VDS_SESSION
#define VDS_SESSION

// --+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--

#include <vdsf/vdsCommon.h>

// --+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--

class vdsSession
{
public:
   
   vdsSession( bool explicitTransaction = false );

   virtual ~vdsSession();
   
   int CreateObject( const char *  objectName,
                     size_t        nameLengthInBytes,
                     vdsObjectType objectType );
   
   int DestroyObject( const char * objectName,
                      size_t       nameLengthInBytes );

   int vdsErrorMsg( char   * message,
                    size_t   msgLengthInBytes );

   int LastError();

   int GetInfo( vdsInfo * pInfo );

   int GetStatus( const char   * objectName,
                  size_t         nameLengthInBytes,
                  vdsObjStatus * pStatus );

   int Commit();
   
   int Rollback();
   
private:

   VDSHANDLE sessionHandle;

};

// --+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--

#endif /* VDS_SESSION */

// --+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--

